<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Interface Admin - Table du Roi</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"  />
</head>
<body>

  <!-- Navbar chargée via JS -->
  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', loadComponents);
  </script>

  <div class="admin-container">
    <h2><i class="fas fa-tools"></i> Interface d'Administration</h2>

    <!-- Menu rapide -->
    <nav class="admin-menu">
      <ul>
        <li><a href="#" onclick="showSection('daily')">Le Pain Quotidien</a></li>
        <li><a href="#" onclick="showSection('adoration')">Adoration</a></li>
        <li><a href="#" onclick="showSection('louange')">Louange</a></li>
        <li><a href="#" onclick="showSection('calendar')">Calendrier</a></li>
        <li><a href="#" onclick="showSection('archives')">Archives</a></li>
      </ul>
    </nav>

    <!-- Section : Formulaire Pain Quotidien -->
    <section id="daily" class="admin-section active">
      <h3>Ajouter un nouveau Pain Quotidien</h3>
      <form id="dailyForm" class="admin-form">
        <label for="dailyDate">Date *</label>
        <input type="date" id="dailyDate" required />

        <label for="dailyTitle">Titre</label>
        <input type="text" id="dailyTitle" />

        <label for="dailyContent">Contenu</label>
        <textarea id="dailyContent" rows="4"></textarea>

        <label for="dailyAudio">Lien audio (MP3)</label>
        <input type="url" id="dailyAudio" />

        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <!-- Section : Formulaire Adoration -->
    <section id="adoration" class="admin-section hidden">
      <h3>Ajouter une nouvelle vidéo d’adoration</h3>
      <form id="adorationForm" class="admin-form">
        <label for="adorationDate">Date *</label>
        <input type="date" id="adorationDate" required />

        <label for="adorationTitle">Titre</label>
        <input type="text" id="adorationTitle" />

        <label for="adorationVideo">Lien YouTube (iframe)</label>
        <input type="text" id="adorationVideo" placeholder="ex: https://www.youtube.com/embed/VIDEO_ID"  />

        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <!-- Section : Formulaire Louange -->
    <section id="louange" class="admin-section hidden">
      <h3>Ajouter un contenu de louange</h3>
      <form id="louangeForm" class="admin-form">
        <label for="louangeDate">Date *</label>
        <input type="date" id="louangeDate" required />

        <label for="louangeTitle">Titre</label>
        <input type="text" id="louangeTitle" />

        <label for="louangeVideo">Lien vidéo YouTube</label>
        <input type="url" id="louangeVideo" />

        <label for="louangeAudio">Lien audio MP3</label>
        <input type="url" id="louangeAudio" />

        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <!-- Section : Calendrier -->
    <section id="calendar" class="admin-section hidden">
      <h3>Ajouter un événement</h3>
      <form id="calendarForm" class="admin-form">
        <label for="eventDate">Date *</label>
        <input type="date" id="eventDate" required />

        <label for="eventTitle">Titre</label>
        <input type="text" id="eventTitle" />

        <label for="eventTime">Heure</label>
        <input type="time" id="eventTime" />

        <label for="eventDescription">Description</label>
        <textarea id="eventDescription" rows="3"></textarea>

        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <!-- Section Archives -->
    <section id="archives" class="admin-section hidden">
      <h3>Archives</h3>
      <div id="archiveList">
        <p>Les contenus archivés apparaîtront ici.</p>
      </div>
    </section>
  </div>

  <!-- Footer chargé via JS -->

  <!-- Script principal -->
  <script src="admin.js"></script>
  <script>
  // Fonction pour charger les composants
  function loadComponents() {
    // Charge la navbar
    fetch('navbar.html')
      .then(response => response.text())
      .then(data => {
        document.body.insertAdjacentHTML('afterbegin', data);
        // Après chargement du menu, charge le footer
        return fetch('footer.html');
      })
      .then(response => response.text())
      .then(data => {
        document.body.insertAdjacentHTML('beforeend', data);
      })
      .catch(error => {
        console.error('Erreur de chargement des composants:', error);
        document.body.innerHTML += '<p style="color:red">Erreur de chargement des éléments</p>';
      });
  }

  // Appel initial
  document.addEventListener('DOMContentLoaded', loadComponents);
</script>
</body>
</html>